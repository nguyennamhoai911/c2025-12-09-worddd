(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32545,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(83642),l=e.i(54858);function i(){let{user:e,isLoading:i}=(0,r.useAuth)(),[s,a]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[g,p]=(0,n.useState)({name:"",googleApiKey:"",googleCx:"",azureSpeechKey:"",azureSpeechRegion:"",geminiApiKey:""});(0,n.useEffect)(()=>{e&&p({name:e.name||"",googleApiKey:e.googleApiKey||"",googleCx:e.googleCx||"",azureSpeechKey:e.azureSpeechKey||"",azureSpeechRegion:e.azureSpeechRegion||"",geminiApiKey:e.geminiApiKey||""})},[e]);let x=e=>{p({...g,[e.target.name]:e.target.value})},h=async t=>{t.preventDefault(),a(!0),c(""),u("");try{if(!e)return;await l.default.patch(`/users/${e.id}`,g),c("Cập nhật thành công!")}catch(e){u("Có lỗi xảy ra khi cập nhật."),console.error(e)}finally{a(!1)}};return i?(0,t.jsx)("div",{className:"p-8 text-center text-white",children:"Loading..."}):e?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-black text-white p-6 justify-center flex items-center",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-2xl border border-white/20",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Cài đặt tài khoản"}),o&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500 rounded text-green-200",children:o}),d&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded text-red-200",children:d}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 text-purple-300 border-b border-white/10 pb-2",children:"Thông tin cá nhân"}),(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"text",value:e?.email||"",disabled:!0,className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-gray-400 cursor-not-allowed"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tên hiển thị"}),(0,t.jsx)("input",{type:"text",name:"name",value:g.name,onChange:x,className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 text-purple-300 border-b border-white/10 pb-2",children:"Cấu hình Extension"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Các thông tin này sẽ được Extension tự động đồng bộ."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google API Key"}),(0,t.jsx)("input",{type:"password",name:"googleApiKey",value:g.googleApiKey,onChange:x,placeholder:"AIza...",className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google Cx (Search Engine ID)"}),(0,t.jsx)("input",{type:"text",name:"googleCx",value:g.googleCx,onChange:x,placeholder:"012345...",className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Azure Speech Key"}),(0,t.jsx)("input",{type:"password",name:"azureSpeechKey",value:g.azureSpeechKey,onChange:x,className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Azure Region"}),(0,t.jsx)("input",{type:"text",name:"azureSpeechRegion",value:g.azureSpeechRegion,onChange:x,placeholder:"eastus",className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]})]}),(0,t.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Gemini API Key (AI Analysis)"}),(0,t.jsx)("input",{type:"password",name:"geminiApiKey",value:g.geminiApiKey,onChange:x,placeholder:"AIza...",className:"w-full px-4 py-2 bg-black/20 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Dùng để phân tích ngữ cảnh và dịch nâng cao."})]})]})]}),(0,t.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg text-white font-semibold shadow-lg transition transform active:scale-95 disabled:opacity-50",children:s?"Đang lưu...":"Lưu cài đặt"})]})]})}):(0,t.jsx)("div",{className:"p-8 text-center text-white",children:"Vui lòng đăng nhập để xem cài đặt."})}e.s(["default",()=>i])}]);