{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/hooks/vocabulary/useVocabData.ts"],"sourcesContent":["\r\nimport { useState, useCallback, useEffect, useRef } from \"react\";\r\nimport api from \"@/lib/api\"; // Import api\r\n\r\n// --- INTERFACES ---\r\nexport interface VocabItem {\r\n  id: string;\r\n  word: string;\r\n  topic?: string | null;\r\n  partOfSpeech?: string | null;\r\n  pronunciation?: string | null;\r\n  meaning?: string | null;\r\n  example?: string | null;\r\n  relatedWords?: string | null;\r\n  occurrence: number;\r\n  isStarred: boolean;\r\n  pronunciationScores: number[];\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface FilterState {\r\n  word: string;\r\n  topic: string;\r\n  partOfSpeech: string;\r\n  meaning: string;\r\n}\r\n\r\nexport interface SortState {\r\n  key: string;\r\n  direction: \"asc\" | \"desc\";\r\n}\r\n\r\nconst useVocabData = (token: string | null) => {\r\n  const [vocabs, setVocabs] = useState<VocabItem[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [showStarredOnly, setShowStarredOnly] = useState(false);\r\n\r\n  const [filters, setFilters] = useState<FilterState>({\r\n    word: \"\",\r\n    topic: \"\",\r\n    partOfSpeech: \"\",\r\n    meaning: \"\",\r\n  });\r\n\r\n  const [sortConfig, setSortConfig] = useState<SortState>({\r\n    key: \"updatedAt\",\r\n    direction: \"desc\",\r\n  });\r\n\r\n  const [columnOrder, setColumnOrder] = useState<string[]>([\r\n    \"star\",\r\n    \"updatedAt\",\r\n    \"topic\",\r\n    \"word\",\r\n    \"pronunciation\",\r\n    \"meaning\",\r\n    \"example\",\r\n    \"relatedWords\",\r\n    \"occurrence\",\r\n    \"score\",\r\n    \"actions\",\r\n  ]);\r\n  const [draggedCol, setDraggedCol] = useState<string | null>(null);\r\n\r\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const fetchVocabs = useCallback(\r\n    async (\r\n      pageNum = 1,\r\n      currentFilters = filters,\r\n      currentSort = sortConfig,\r\n      starred = showStarredOnly\r\n    ) => {\r\n      if (!token) return;\r\n      setLoading(true);\r\n      try {\r\n        const params: any = {\r\n          page: pageNum,\r\n          limit: 20,\r\n          ...currentFilters,\r\n          sortBy: currentSort.key,\r\n          sortOrder: currentSort.direction,\r\n        };\r\n        if (starred) params.isStarred = \"true\";\r\n        const res = await api.get(\"/vocabulary\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          params: params,\r\n        });\r\n        setVocabs(res.data.data);\r\n        setTotalPages(res.data.meta.lastPage);\r\n        setPage(res.data.meta.page);\r\n      } catch (error) {\r\n        console.error(\"Fetch error:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    [token, filters, sortConfig, showStarredOnly]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchVocabs();\r\n  }, [fetchVocabs]);\r\n  \r\n  const handleFilterChange = (field: keyof FilterState, value: string) => {\r\n    const newFilters = { ...filters, [field]: value };\r\n    setFilters(newFilters);\r\n    if (debounceRef.current) clearTimeout(debounceRef.current);\r\n    debounceRef.current = setTimeout(\r\n      () => fetchVocabs(1, newFilters, sortConfig),\r\n      500\r\n    );\r\n  };\r\n\r\n  const handleSort = (key: string) => {\r\n    let direction: \"asc\" | \"desc\" = \"asc\";\r\n    if (sortConfig.key === key && sortConfig.direction === \"asc\")\r\n      direction = \"desc\";\r\n    const newSortConfig = { key, direction };\r\n    setSortConfig(newSortConfig);\r\n    fetchVocabs(1, filters, newSortConfig);\r\n  };\r\n\r\n  const handleToggleStar = async (\r\n    id: string,\r\n    currentStatus: boolean,\r\n    e?: React.MouseEvent\r\n  ) => {\r\n    if (e) e.stopPropagation();\r\n    \r\n    // Optimistic update\r\n    const toggleFunc = (list: VocabItem[]) =>\r\n    list.map((item) =>\r\n      item.id === id ? { ...item, isStarred: !currentStatus } : item\r\n    );\r\n    setVocabs(toggleFunc);\r\n\r\n    try {\r\n      await api.patch(\r\n        `/vocabulary/${id}`,\r\n        { isStarred: !currentStatus },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Failed to star\", error);\r\n      // Revert on failure\r\n      setVocabs((prev) => \r\n        prev.map((item) =>\r\n          item.id === id ? { ...item, isStarred: currentStatus } : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const triggerInteraction = async (vocab: VocabItem) => {\r\n    try {\r\n      const newOccurrence = (vocab.occurrence || 0) + 1;\r\n      const newTime = new Date().toISOString();\r\n      \r\n      // Optimistic update\r\n      setVocabs((prev) =>\r\n        prev.map((v) =>\r\n          v.id === vocab.id\r\n            ? { ...v, occurrence: newOccurrence, updatedAt: newTime }\r\n            : v\r\n        )\r\n      );\r\n      \r\n      await api.patch(\r\n        `/vocabulary/${vocab.id}`,\r\n        { occurrence: newOccurrence },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n    } catch (e) {\r\n      console.error(\"Interaction update failed\", e);\r\n       // Revert on failure\r\n       setVocabs((prev) =>\r\n       prev.map((v) =>\r\n         v.id === vocab.id\r\n           ? { ...v, occurrence: vocab.occurrence, updatedAt: vocab.updatedAt }\r\n           : v\r\n       )\r\n     );\r\n    }\r\n  };\r\n\r\n  const handleDragStart = (e: React.DragEvent, colId: string) => {\r\n    setDraggedCol(colId);\r\n    e.dataTransfer.effectAllowed = \"move\";\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent, colId: string) => {\r\n    e.preventDefault();\r\n    if (!draggedCol || draggedCol === colId) return;\r\n    const newOrder = [...columnOrder];\r\n    const draggedIdx = newOrder.indexOf(draggedCol);\r\n    const targetIdx = newOrder.indexOf(colId);\r\n    if (draggedIdx !== -1 && targetIdx !== -1) {\r\n      newOrder.splice(draggedIdx, 1);\r\n      newOrder.splice(targetIdx, 0, draggedCol);\r\n      setColumnOrder(newOrder);\r\n    }\r\n  };\r\n  \r\n  const handleDragEnd = () => {\r\n    setDraggedCol(null);\r\n  };\r\n\r\n  return {\r\n    vocabs,\r\n    loading,\r\n    page,\r\n    setPage,\r\n    totalPages,\r\n    showStarredOnly,\r\n    setShowStarredOnly,\r\n    filters,\r\n    sortConfig,\r\n    columnOrder,\r\n    draggedCol,\r\n    fetchVocabs,\r\n    handleFilterChange,\r\n    handleSort,\r\n    handleToggleStar,\r\n    triggerInteraction,\r\n    handleDragStart,\r\n    handleDragOver,\r\n    handleDragEnd,\r\n  };\r\n};\r\n\r\nexport default useVocabData;\r\n"],"names":["useState","useCallback","useEffect","useRef","api","VocabItem","id","word","topic","partOfSpeech","pronunciation","meaning","example","relatedWords","occurrence","isStarred","pronunciationScores","createdAt","updatedAt","FilterState","SortState","key","direction","useVocabData","token","vocabs","setVocabs","loading","setLoading","page","setPage","totalPages","setTotalPages","showStarredOnly","setShowStarredOnly","filters","setFilters","sortConfig","setSortConfig","columnOrder","setColumnOrder","draggedCol","setDraggedCol","debounceRef","NodeJS","Timeout","fetchVocabs","pageNum","currentFilters","currentSort","starred","params","limit","sortBy","sortOrder","res","get","headers","Authorization","data","meta","lastPage","error","console","handleFilterChange","field","value","newFilters","current","clearTimeout","setTimeout","handleSort","newSortConfig","handleToggleStar","currentStatus","e","React","MouseEvent","stopPropagation","toggleFunc","list","map","item","patch","prev","triggerInteraction","vocab","newOccurrence","newTime","Date","toISOString","v","handleDragStart","DragEvent","colId","dataTransfer","effectAllowed","handleDragOver","preventDefault","newOrder","draggedIdx","indexOf","targetIdx","splice","handleDragEnd"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/hooks/vocabulary/useVocabModals.ts"],"sourcesContent":["\r\nimport { useState, useRef } from \"react\";\r\nimport api from \"@/lib/api\"; // Import api for backend calls\r\nimport axios from \"axios\"; // Keep for external APIs (DictionaryAPI, Translate)\r\nimport { VocabItem } from \"./useVocabData\";\r\n\r\nexport interface VocabFormData {\r\n  word: string;\r\n  meaning: string;\r\n  example: string;\r\n  topic: string;\r\n  partOfSpeech: string;\r\n  relatedWords: string;\r\n  pronunciation: string;\r\n}\r\n\r\nconst useVocabModals = (\r\n  token: string | null,\r\n  fetchVocabs: (page?: number) => void\r\n) => {\r\n  const [selectedVocab, setSelectedVocab] = useState<VocabItem | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isAutoFilling, setIsAutoFilling] = useState(false);\r\n  const [formData, setFormData] = useState<VocabFormData>({\r\n    word: \"\",\r\n    meaning: \"\",\r\n    example: \"\",\r\n    topic: \"\",\r\n    partOfSpeech: \"\",\r\n    relatedWords: \"\",\r\n    pronunciation: \"\",\r\n  });\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const triggerInteraction = async (vocab: VocabItem) => {\r\n    try {\r\n      const newOccurrence = (vocab.occurrence || 0) + 1;\r\n      await api.patch(\r\n        `/vocabulary/${vocab.id}`,\r\n        { occurrence: newOccurrence },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n    } catch (e) {\r\n      console.error(\"Interaction update failed\", e);\r\n    }\r\n  };\r\n\r\n  const handleRowClick = (vocab: VocabItem) => {\r\n    setSelectedVocab(vocab);\r\n    setFormData({\r\n      word: vocab.word,\r\n      meaning: vocab.meaning || \"\",\r\n      example: vocab.example || \"\",\r\n      topic: vocab.topic || \"\",\r\n      partOfSpeech: vocab.partOfSpeech || \"\",\r\n      relatedWords: vocab.relatedWords || \"\",\r\n      pronunciation: vocab.pronunciation || \"\",\r\n    });\r\n    setIsModalOpen(true);\r\n    triggerInteraction(vocab);\r\n  };\r\n\r\n  const fetchAutoFillData = async (word: string) => {\r\n    if (!word) return null;\r\n    setIsAutoFilling(true);\r\n    try {\r\n      const dictPromise = axios\r\n        .get(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`)\r\n        .catch(() => null);\r\n\r\n      const translatePromise = axios\r\n        .get(\r\n          `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=vi&dt=t&q=${encodeURIComponent(\r\n            word\r\n          )}`\r\n        )\r\n        .catch(() => null);\r\n\r\n      const [dictRes, transRes] = await Promise.all([\r\n        dictPromise,\r\n        translatePromise,\r\n      ]);\r\n\r\n      let newData: Partial<VocabFormData> = { word: word };\r\n\r\n      if (dictRes && dictRes.data && dictRes.data[0]) {\r\n        const entry = dictRes.data[0];\r\n        if (entry.phonetic) newData.pronunciation = entry.phonetic;\r\n        else if (entry.phonetics && entry.phonetics.length > 0) {\r\n          const p = entry.phonetics.find((x: any) => x.text && x.audio);\r\n          newData.pronunciation = p ? p.text : entry.phonetics[0].text;\r\n        }\r\n        if (entry.meanings && entry.meanings.length > 0) {\r\n          const meaning = entry.meanings[0];\r\n          newData.partOfSpeech = meaning.partOfSpeech;\r\n          if (meaning.definitions) {\r\n            const defWithExample = meaning.definitions.find(\r\n              (d: any) => d.example\r\n            );\r\n            if (defWithExample) newData.example = defWithExample.example;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (transRes && transRes.data && transRes.data[0]) {\r\n        const translatedText = transRes.data[0]\r\n          .map((item: any) => item[0])\r\n          .join(\"\");\r\n        newData.meaning = translatedText;\r\n      }\r\n      return newData;\r\n    } catch (error) {\r\n      console.error(\"Auto-fill error:\", error);\r\n      return null;\r\n    } finally {\r\n      setIsAutoFilling(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenCreateModal = async (initialWord = \"\") => {\r\n    setSelectedVocab(null);\r\n    setIsModalOpen(true);\r\n    setFormData({\r\n      word: initialWord,\r\n      meaning: \"\",\r\n      example: \"\",\r\n      topic: \"\",\r\n      partOfSpeech: \"\",\r\n      relatedWords: \"\",\r\n      pronunciation: \"\",\r\n    });\r\n    if (initialWord) {\r\n      const autoData = await fetchAutoFillData(initialWord);\r\n      if (autoData) {\r\n        setFormData((prev) => ({ ...prev, ...autoData }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!token || !formData.word) {\r\n      alert(\"Word is required!\");\r\n      return;\r\n    }\r\n    try {\r\n      if (selectedVocab) {\r\n        await api.patch(\r\n          `/vocabulary/${selectedVocab.id}`,\r\n          formData,\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n      } else {\r\n        await api.post(\r\n          \"/vocabulary\",\r\n          { ...formData, isStarred: false },\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n      }\r\n      setIsModalOpen(false);\r\n      fetchVocabs();\r\n    } catch (error) {\r\n      console.error(\"Save failed\", error);\r\n      alert(\"Failed to save.\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Delete this word?\")) return;\r\n    try {\r\n      await api.delete(`/vocabulary/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      fetchVocabs();\r\n      setIsModalOpen(false);\r\n    } catch (e) {\r\n      alert(\"Failed\");\r\n    }\r\n  };\r\n\r\n  const handleFileChange = async (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file || !token) return;\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    try {\r\n      setIsUploading(true);\r\n      await api.post(\r\n        \"/vocabulary/import/csv\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n      alert(\"Import success!\");\r\n      fetchVocabs(1);\r\n    } catch (error) {\r\n      alert(\"Import failed!\");\r\n    } finally {\r\n      setIsUploading(false);\r\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  return {\r\n    selectedVocab,\r\n    isModalOpen,\r\n    setIsModalOpen,\r\n    isAutoFilling,\r\n    formData,\r\n    setFormData,\r\n    fileInputRef,\r\n    isUploading,\r\n    handleRowClick,\r\n    handleOpenCreateModal,\r\n    handleSave,\r\n    handleDelete,\r\n    handleFileChange,\r\n    fetchAutoFillData,\r\n  };\r\n};\r\n\r\nexport default useVocabModals;\r\n"],"names":["useState","useRef","api","axios","VocabItem","VocabFormData","word","meaning","example","topic","partOfSpeech","relatedWords","pronunciation","useVocabModals","token","fetchVocabs","page","selectedVocab","setSelectedVocab","isModalOpen","setIsModalOpen","isAutoFilling","setIsAutoFilling","formData","setFormData","fileInputRef","HTMLInputElement","isUploading","setIsUploading","triggerInteraction","vocab","newOccurrence","occurrence","patch","id","headers","Authorization","e","console","error","handleRowClick","fetchAutoFillData","dictPromise","get","catch","translatePromise","encodeURIComponent","dictRes","transRes","Promise","all","newData","Partial","data","entry","phonetic","phonetics","length","p","find","x","text","audio","meanings","definitions","defWithExample","d","translatedText","map","item","join","handleOpenCreateModal","initialWord","autoData","prev","handleSave","alert","post","isStarred","handleDelete","confirm","delete","handleFileChange","event","React","ChangeEvent","file","target","files","FormData","append","current","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/hooks/vocabulary/usePronunciationAssessment.ts"],"sourcesContent":["\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport api from \"@/lib/api\"; // Import api for backend\r\nimport axios from \"axios\"; // Keep for Azure API\r\nimport { VocabItem } from \"./useVocabData\";\r\nimport { VocabFormData } from \"./useVocabModals\";\r\n\r\n// --- INTERFACES ---\r\nexport interface AssessmentResult {\r\n  AccuracyScore: number;\r\n  FluencyScore?: number;\r\n  CompletenessScore?: number;\r\n  PronScore?: number;\r\n  Words: Array<{\r\n    Word: string;\r\n    AccuracyScore: number;\r\n    ErrorType: string;\r\n    Phonemes: Array<{\r\n      Phoneme: string;\r\n      AccuracyScore: number;\r\n    }>;\r\n  }>;\r\n}\r\n\r\n// --- HELPERS ---\r\nasync function convertAudioToWav(audioBlob: Blob): Promise<Blob> {\r\n    const audioContext = new (window.AudioContext ||\r\n      (window as any).webkitAudioContext)({\r\n      sampleRate: 16000,\r\n    });\r\n    const arrayBuffer = await audioBlob.arrayBuffer();\r\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\r\n    const pcmData = audioBuffer.getChannelData(0);\r\n    const wavBuffer = encodeWAV(pcmData, 16000);\r\n    return new Blob([wavBuffer], { type: \"audio/wav\" });\r\n  }\r\n  \r\nfunction encodeWAV(samples: Float32Array, sampleRate: number) {\r\n    const buffer = new ArrayBuffer(44 + samples.length * 2);\r\n    const view = new DataView(buffer);\r\n    const writeString = (view: DataView, offset: number, string: string) => {\r\n      for (let i = 0; i < string.length; i++) {\r\n        view.setUint8(offset + i, string.charCodeAt(i));\r\n      }\r\n    };\r\n    writeString(view, 0, \"RIFF\");\r\n    view.setUint32(4, 36 + samples.length * 2, true);\r\n    writeString(view, 8, \"WAVE\");\r\n    writeString(view, 12, \"fmt \");\r\n    view.setUint32(16, 16, true);\r\n    view.setUint16(20, 1, true);\r\n    view.setUint16(22, 1, true);\r\n    view.setUint32(24, sampleRate, true);\r\n    view.setUint32(28, sampleRate * 2, true);\r\n    view.setUint16(32, 2, true);\r\n    view.setUint16(34, 16, true);\r\n    writeString(view, 36, \"data\");\r\n    view.setUint32(40, samples.length * 2, true);\r\n    let offset = 44;\r\n    for (let i = 0; i < samples.length; i++, offset += 2) {\r\n      let s = Math.max(-1, Math.min(1, samples[i]));\r\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\r\n    }\r\n    return view;\r\n}\r\n\r\n\r\nconst usePronunciationAssessment = (\r\n  token: string | null,\r\n  fetchVocabs: (page?: number) => void,\r\n  page: number\r\n) => {\r\n  const [isAssessmentModalOpen, setIsAssessmentModalOpen] = useState(false);\r\n  const [recordingVocabItem, setRecordingVocabItem] =\r\n    useState<VocabItem | null>(null);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [assessmentResult, setAssessmentResult] =\r\n    useState<AssessmentResult | null>(null);\r\n  const [assessmentError, setAssessmentError] = useState<string>(\"\");\r\n  const [isProcessingAudio, setIsProcessingAudio] = useState(false);\r\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\r\n  const audioChunksRef = useRef<Blob[]>([]);\r\n  const [userAudioUrl, setUserAudioUrl] = useState<string | null>(null);\r\n\r\n  const handleOpenAssessment = (\r\n    item: VocabItem | VocabFormData,\r\n    e?: React.MouseEvent\r\n  ) => {\r\n    if (e) e.stopPropagation();\r\n    const vocabItem =\r\n      \"id\" in item\r\n        ? item\r\n        : ({\r\n            ...item,\r\n            id: \"temp\",\r\n            occurrence: 0,\r\n            isStarred: false,\r\n            pronunciationScores: [],\r\n            createdAt: \"\",\r\n            updatedAt: \"\",\r\n          } as VocabItem);\r\n\r\n    setRecordingVocabItem(vocabItem);\r\n    setAssessmentResult(null);\r\n    setAssessmentError(\"\");\r\n    setUserAudioUrl(null);\r\n    setIsAssessmentModalOpen(true);\r\n  };\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const mediaRecorder = new MediaRecorder(stream);\r\n      mediaRecorderRef.current = mediaRecorder;\r\n      audioChunksRef.current = [];\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) audioChunksRef.current.push(event.data);\r\n      };\r\n      mediaRecorder.onstop = async () => {\r\n        const audioBlob = new Blob(audioChunksRef.current, {\r\n          type: \"audio/webm\",\r\n        });\r\n        const audioUrl = URL.createObjectURL(audioBlob);\r\n        setUserAudioUrl(audioUrl);\r\n        await processAudio(audioBlob);\r\n        stream.getTracks().forEach((track) => track.stop());\r\n      };\r\n      mediaRecorder.start();\r\n      setIsRecording(true);\r\n      setAssessmentError(\"\");\r\n    } catch (err) {\r\n      setAssessmentError(\"Microphone access denied.\");\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout;\r\n    if (isAssessmentModalOpen) {\r\n      timer = setTimeout(() => {\r\n        if (!isRecording) {\r\n          startRecording();\r\n        }\r\n      }, 300);\r\n    } else {\r\n      stopRecording();\r\n    }\r\n    return () => clearTimeout(timer);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isAssessmentModalOpen]);\r\n\r\n  const processAudio = async (audioBlob: Blob) => {\r\n    if (!recordingVocabItem) return;\r\n    setIsProcessingAudio(true);\r\n    try {\r\n      const azureKey = localStorage.getItem(\"azureKey\");\r\n      const azureRegion = localStorage.getItem(\"azureRegion\");\r\n      if (!azureKey || !azureRegion) throw new Error(\"Missing Azure Keys.\");\r\n      const wavBlob = await convertAudioToWav(audioBlob);\r\n      const assessParams = {\r\n        ReferenceText: recordingVocabItem.word,\r\n        GradingSystem: \"HundredMark\",\r\n        Granularity: \"Phoneme\",\r\n        Dimension: \"Comprehensive\",\r\n        PhonemeAlphabet: \"IPA\",\r\n      };\r\n      const paramsHeader = btoa(JSON.stringify(assessParams));\r\n      const url = `https://${azureRegion}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=en-US`;\r\n      const response = await axios.post(url, wavBlob, {\r\n        headers: {\r\n          \"Ocp-Apim-Subscription-Key\": azureKey,\r\n          \"Content-Type\": \"audio/wav; codecs=audio/pcm; samplerate=16000\",\r\n          Accept: \"application/json\",\r\n          \"Pronunciation-Assessment\": paramsHeader,\r\n        },\r\n      });\r\n      const data = response.data;\r\n      if (data.NBest && data.NBest[0]) {\r\n        const result = data.NBest[0];\r\n        const score =\r\n          result.PronunciationAssessment?.AccuracyScore || result.AccuracyScore;\r\n        setAssessmentResult({ AccuracyScore: score, Words: result.Words });\r\n\r\n        if (recordingVocabItem.id !== \"temp\") {\r\n          await api.patch(\r\n            `/vocabulary/${recordingVocabItem.id}/score`,\r\n            { score: Math.round(score) },\r\n            { headers: { Authorization: `Bearer ${token}` } }\r\n          );\r\n          fetchVocabs(page);\r\n        }\r\n      } else {\r\n        setAssessmentError(\"Could not recognize speech.\");\r\n      }\r\n    } catch (err: any) {\r\n      setAssessmentError(err.message);\r\n    } finally {\r\n      setIsProcessingAudio(false);\r\n    }\r\n  };\r\n\r\n // apps/frontend/hooks/vocabulary/usePronunciationAssessment.ts\r\n\r\n  const handleSpeak = (text: string, e?: React.MouseEvent) => {\r\n    if (e) e.stopPropagation();\r\n    if (!text) return;\r\n    window.speechSynthesis.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.lang = \"en-US\";\r\n    utterance.rate = 0.9; // Tá»‘c Ä‘á»™ Ä‘á»c (0.9 lÃ  vá»«a pháº£i)\r\n\r\n    // ðŸ‘‡ LOGIC Má»šI: Æ¯u tiÃªn tuyá»‡t Ä‘á»‘i cho Microsoft Aria Online\r\n    const getVoice = () => {\r\n      const voices = window.speechSynthesis.getVoices();\r\n      \r\n      // 1. TÃ¬m chÃ­nh xÃ¡c giá»ng Microsoft Aria Online (Æ¯u tiÃªn sá»‘ 1)\r\n      const ariaOnline = voices.find(v => v.name.includes(\"Microsoft Aria Online\"));\r\n      if (ariaOnline) return ariaOnline;\r\n\r\n      // 2. Náº¿u khÃ´ng cÃ³ Online, tÃ¬m giá»ng Aria báº¥t ká»³ (Æ¯u tiÃªn sá»‘ 2)\r\n      const ariaAny = voices.find(v => v.name.includes(\"Aria\"));\r\n      if (ariaAny) return ariaAny;\r\n\r\n      // 3. Fallback: TÃ¬m giá»ng US English tá»± nhiÃªn (Google US English, etc.)\r\n      return voices.find(v => v.lang === \"en-US\" && !v.name.includes(\"Zira\")); \r\n    };\r\n\r\n    const preferredVoice = getVoice();\r\n\r\n    if (preferredVoice) {\r\n      utterance.voice = preferredVoice;\r\n      // console.log(\"Using voice:\", preferredVoice.name); // Báº­t dÃ²ng nÃ y Ä‘á»ƒ debug xem nÃ³ Ä‘ang dÃ¹ng giá»ng nÃ o\r\n    }\r\n\r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  return {\r\n    isAssessmentModalOpen,\r\n    setIsAssessmentModalOpen,\r\n    recordingVocabItem,\r\n    isRecording,\r\n    assessmentResult,\r\n    assessmentError,\r\n    isProcessingAudio,\r\n    userAudioUrl,\r\n    startRecording,\r\n    stopRecording,\r\n    handleOpenAssessment,\r\n    handleSpeak,\r\n  };\r\n};\r\n\r\nexport default usePronunciationAssessment;\r\n"],"names":["useState","useRef","useEffect","api","axios","VocabItem","VocabFormData","AssessmentResult","AccuracyScore","FluencyScore","CompletenessScore","PronScore","Words","Array","Word","ErrorType","Phonemes","Phoneme","convertAudioToWav","audioBlob","Blob","Promise","audioContext","window","AudioContext","webkitAudioContext","sampleRate","arrayBuffer","audioBuffer","decodeAudioData","pcmData","getChannelData","wavBuffer","encodeWAV","type","samples","Float32Array","buffer","ArrayBuffer","length","view","DataView","writeString","offset","string","i","setUint8","charCodeAt","setUint32","setUint16","s","Math","max","min","setInt16","usePronunciationAssessment","token","fetchVocabs","page","isAssessmentModalOpen","setIsAssessmentModalOpen","recordingVocabItem","setRecordingVocabItem","isRecording","setIsRecording","assessmentResult","setAssessmentResult","assessmentError","setAssessmentError","isProcessingAudio","setIsProcessingAudio","mediaRecorderRef","MediaRecorder","audioChunksRef","userAudioUrl","setUserAudioUrl","handleOpenAssessment","item","e","React","MouseEvent","stopPropagation","vocabItem","id","occurrence","isStarred","pronunciationScores","createdAt","updatedAt","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","current","ondataavailable","event","data","size","push","onstop","audioUrl","URL","createObjectURL","processAudio","getTracks","forEach","track","stop","start","err","stopRecording","timer","NodeJS","Timeout","setTimeout","clearTimeout","azureKey","localStorage","getItem","azureRegion","Error","wavBlob","assessParams","ReferenceText","word","GradingSystem","Granularity","Dimension","PhonemeAlphabet","paramsHeader","btoa","JSON","stringify","url","response","post","headers","Accept","NBest","result","score","PronunciationAssessment","patch","round","Authorization","message","handleSpeak","text","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","lang","rate","getVoice","voices","getVoices","ariaOnline","find","v","name","includes","ariaAny","preferredVoice","voice","speak"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/hooks/vocabulary/useQuickSearch.ts"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport api from \"@/lib/api\"; // Import api\r\nimport { useSearchParams, usePathname } from \"next/navigation\";\r\nimport { VocabItem } from \"./useVocabData\";\r\n\r\nconst useQuickSearch = (\r\n  token: string | null,\r\n  handleOpenCreateModal: (word: string) => void\r\n) => {\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [quickSearchText, setQuickSearchText] = useState(\"\");\r\n  const [quickSearchResults, setQuickSearchResults] = useState<VocabItem[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const searchInputRef = useRef<HTMLInputElement>(null);\r\n  const quickSearchDebounce = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const searchParams = useSearchParams();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    const isSearchPath = pathname?.endsWith(\"/search\");\r\n    const hasSearchParam = searchParams.get(\"openSearch\") === \"true\";\r\n\r\n    if (isSearchPath || hasSearchParam) {\r\n      setShowSearch(true);\r\n      setQuickSearchText(\"\");\r\n      setTimeout(() => {\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [pathname, searchParams]);\r\n\r\n  useEffect(() => {\r\n    let lastKeyPressTime = 0;\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n        const target = e.target as HTMLElement;\r\n        const isInputFocused = target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable;\r\n\r\n        if (isInputFocused && !showSearch) return;\r\n\r\n\r\n      if (e.code === \"Space\") {\r\n        const currentTime = new Date().getTime();\r\n        if (currentTime - lastKeyPressTime < 300) {\r\n          e.preventDefault();\r\n          setShowSearch(true);\r\n          setQuickSearchText(\"\");\r\n          setQuickSearchResults([]);\r\n          setTimeout(() => searchInputRef.current?.focus(), 100);\r\n        }\r\n        lastKeyPressTime = currentTime;\r\n      }\r\n      if (e.code === \"Escape\") {\r\n        setShowSearch(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [showSearch]);\r\n\r\n  const handleQuickSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const text = e.target.value;\r\n    setQuickSearchText(text);\r\n    if (quickSearchDebounce.current) clearTimeout(quickSearchDebounce.current);\r\n    quickSearchDebounce.current = setTimeout(\r\n      () => performQuickSearch(text),\r\n      300\r\n    );\r\n  };\r\n\r\n  const performQuickSearch = async (text: string) => {\r\n    if (!token || !text.trim()) {\r\n      setQuickSearchResults([]);\r\n      return;\r\n    }\r\n    setIsSearching(true);\r\n    try {\r\n      const res = await api.get(\"/vocabulary\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: {\r\n          page: 1,\r\n          limit: 5,\r\n          search: text,\r\n          sortBy: \"word\",\r\n          sortOrder: \"asc\",\r\n        },\r\n      });\r\n      setQuickSearchResults(res.data.data);\r\n    } catch (error) {\r\n      console.error(\"Quick search error\", error);\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const hasExactMatch = quickSearchResults.some(\r\n    (item) => item.word.toLowerCase() === quickSearchText.trim().toLowerCase()\r\n  );\r\n\r\n  return {\r\n    showSearch,\r\n    setShowSearch,\r\n    quickSearchText,\r\n    setQuickSearchText,\r\n    quickSearchResults,\r\n    isSearching,\r\n    searchInputRef,\r\n    hasExactMatch,\r\n    handleQuickSearchChange,\r\n  };\r\n};\r\n\r\nexport default useQuickSearch;"],"names":["useState","useRef","useEffect","api","useSearchParams","usePathname","VocabItem","useQuickSearch","token","handleOpenCreateModal","word","showSearch","setShowSearch","quickSearchText","setQuickSearchText","quickSearchResults","setQuickSearchResults","isSearching","setIsSearching","searchInputRef","HTMLInputElement","quickSearchDebounce","NodeJS","Timeout","searchParams","pathname","isSearchPath","endsWith","hasSearchParam","get","setTimeout","current","focus","lastKeyPressTime","handleKeyDown","e","KeyboardEvent","target","HTMLElement","isInputFocused","tagName","isContentEditable","code","currentTime","Date","getTime","preventDefault","window","addEventListener","removeEventListener","handleQuickSearchChange","React","ChangeEvent","text","value","clearTimeout","performQuickSearch","trim","res","headers","Authorization","params","page","limit","search","sortBy","sortOrder","data","error","console","hasExactMatch","some","item","toLowerCase"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/components/Icons.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport const StarIcon = ({ filled, className }: { filled: boolean; className?: string }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill={filled ? \"currentColor\" : \"none\"} stroke=\"currentColor\" strokeWidth={filled ? \"0\" : \"2\"} strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className} width=\"24\" height=\"24\">\r\n    <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n  </svg>\r\n);\r\n\r\nexport const SpeakerIcon = ({ className }: { className?: string }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n    <polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"></polygon>\r\n    <path d=\"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07\"></path>\r\n  </svg>\r\n);\r\n\r\nexport const MicrophoneIcon = ({ className }: { className?: string }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n    <path d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"></path>\r\n    <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\"></path>\r\n    <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\r\n    <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\r\n  </svg>\r\n);"],"names":["React","StarIcon","t0","$","_c","$i","Symbol","for","filled","className","t1","t2","t3","t4","SpeakerIcon","MicrophoneIcon","t5"],"mappings":";;;;;;;;;;;;AAEO,iBAAiBE,EAAA;IAAA,MAAAC,CAAA,OAAAC,gLAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAK,MAAA,EAAAC,SAAAA,EAAA,GAAAP,EAA8D;IACnB,MAAAQ,EAAA,GAAAF,MAAM,GAAN,cAAgC,GAAhC,MAAgC;IAAqC,MAAAG,EAAA,GAAAH,MAAM,GAAN,GAAkB,GAAlB,GAAkB;IAAA,IAAAI,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACvJK,EAAA,iBAAA,6LAAA,IAAyG;YAAjG,CAA8F,EAA9F,8FAA8F,GAAG;;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAM,SAAA,IAAAN,CAAA,CAAA,EAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,EAAA,KAAAQ,EAAA,EAAA;QAD3GE,EAAA,iBAAA,6LAAA,GAEM;YAFK,KAA4B,EAA5B,4BAA4B;YAAS,OAAW,EAAX,WAAW;YAAO,IAAgC,CAAhC,CAAAH,EAA+B,CAAC;YAAS,MAAc,EAAd,cAAc;YAAc,WAAkB,CAAlB,CAAAC,EAAiB,CAAC;YAAgB,aAAO,EAAP,OAAO;YAAgB,cAAO,EAAP,OAAO;YAAYF,SAAS,CAATA,CAAAA,SAAQ,CAAC;YAAQ,KAAI,EAAJ,IAAI;YAAQ,MAAI,EAAJ,IAAI,CAClP;sBAAAG,EAAwG,CAC1G,EAFA,GAEM;;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAM,SAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,OAFNU,EAEM;AAAA,CACP;KAJYZ,QAAQ;AAMd,qBAAoBC,EAAA;IAAA,MAAAC,CAAA,OAAAC,gLAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAM,SAAAA,EAAA,GAAAP,EAAqC;IAAA,IAAAQ,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE7DG,EAAA,iBAAA,6LAAA,OAA8D;YAA9C,MAAmC,EAAnC,mCAAmC,GAAW;;;;;;QAC9DC,EAAA,iBAAA,6LAAA,IAA6E;YAArE,CAA6D,EAA7D,6DAA6D,GAAQ;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAM,SAAA,EAAA;QAF/EG,EAAA,iBAAA,6LAAA,GAGM;YAHK,KAA4B,EAA5B,4BAA4B;YAAO,KAAI,EAAJ,IAAI;YAAQ,MAAI,EAAJ,IAAI;YAAS,OAAW,EAAX,WAAW;YAAM,IAAM,EAAN,MAAM;YAAQ,MAAc,EAAd,cAAc;YAAa,WAAG,EAAH,GAAG;YAAe,aAAO,EAAP,OAAO;YAAgB,cAAO,EAAP,OAAO;YAAYH,SAAS,CAATA,CAAAA,SAAQ,CAAC,CACpM;;gBAAAC,EAA6D,CAC7D;gBAAAC,EAA4E,CAC9E,EAHA,GAGM;;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAM,SAAA;QAAAN,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,OAHNS,EAGM;AAAA,CACP;MALYE,WAAW;AAOjB,uBAAuBZ,EAAA;IAAA,MAAAC,CAAA,OAAAC,gLAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAM,SAAAA,EAAA,GAAAP,EAAqC;IAAA,IAAAQ,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEhEG,EAAA,iBAAA,6LAAA,IAAsE;YAA9D,CAAsD,EAAtD,sDAAsD,GAAQ;;;;;;QACtEC,EAAA,iBAAA,6LAAA,IAA4C;YAApC,CAA4B,EAA5B,4BAA4B,GAAQ;;;;;;QAC5CC,EAAA,iBAAA,6LAAA,IAA6C;YAApC,EAAI,EAAJ,IAAI;YAAI,EAAI,EAAJ,IAAI;YAAI,EAAI,EAAJ,IAAI;YAAI,EAAI,EAAJ,IAAI,GAAQ;;;;;;QAC7CC,EAAA,iBAAA,6LAAA,IAA4C;YAAnC,EAAG,EAAH,GAAG;YAAI,EAAI,EAAJ,IAAI;YAAI,EAAI,EAAJ,IAAI;YAAI,EAAI,EAAJ,IAAI,GAAQ;;;;;;QAAAV,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAH,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;QAAAS,EAAA,GAAAT,CAAA,CAAA,EAAA;QAAAU,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAM,SAAA,EAAA;QAJ9CO,EAAA,iBAAA,6LAAA,GAKM;YALK,KAA4B,EAA5B,4BAA4B;YAAO,KAAI,EAAJ,IAAI;YAAQ,MAAI,EAAJ,IAAI;YAAS,OAAW,EAAX,WAAW;YAAM,IAAM,EAAN,MAAM;YAAQ,MAAc,EAAd,cAAc;YAAa,WAAG,EAAH,GAAG;YAAe,aAAO,EAAP,OAAO;YAAgB,cAAO,EAAP,OAAO;YAAYP,SAAS,CAATA,CAAAA,SAAQ,CAAC,CACpM;;gBAAAC,EAAqE,CACrE;gBAAAC,EAA2C,CAC3C;gBAAAC,EAA4C,CAC5C;gBAAAC,EAA2C,CAC7C,EALA,GAKM;;;;;;;QAAAV,CAAA,CAAA,EAAA,GAAAM,SAAA;QAAAN,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAAA,OALNa,EAKM;AAAA,CACP;MAPYD,cAAc","ignoreList":[]}},
    {"offset": {"line": 1020, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/components/vocabulary/VocabTable.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport {\n  VocabItem,\n  FilterState,\n  SortState,\n} from \"@/hooks/vocabulary/useVocabData\";\nimport { StarIcon, MicrophoneIcon, SpeakerIcon } from \"@/components/Icons\";\n\ninterface Props {\n  vocabs: VocabItem[];\n  loading: boolean;\n  page: number;\n  totalPages: number;\n  setPage: (page: number) => void;\n  fetchVocabs: (\n    pageNum?: number,\n    filters?: FilterState,\n    sort?: SortState\n  ) => void;\n  filters: FilterState;\n  handleFilterChange: (key: keyof FilterState, value: string) => void;\n  handleSort: (key: string) => void;\n  sortConfig: SortState;\n  columnOrder: string[];\n  handleDragStart: (e: React.DragEvent, col: string) => void;\n  handleDragOver: (e: React.DragEvent, col: string) => void;\n  handleDragEnd: () => void;\n  draggedCol: string | null;\n  handleRowClick: (item: VocabItem) => void;\n  handleToggleStar: (id: string, status: boolean, e: React.MouseEvent) => void;\n  handleSpeak: (text: string, e: React.MouseEvent) => void;\n  handleOpenAssessment: (item: VocabItem, e: React.MouseEvent) => void;\n  triggerInteraction: (vocab: VocabItem) => void;\n}\n\nexport default function VocabTable({\n  vocabs,\n  loading,\n  page,\n  totalPages,\n  setPage,\n  fetchVocabs,\n  filters,\n  handleFilterChange,\n  handleSort,\n  sortConfig,\n  columnOrder,\n  handleDragStart,\n  handleDragOver,\n  handleDragEnd,\n  draggedCol,\n  handleRowClick,\n  handleToggleStar,\n  handleSpeak,\n  handleOpenAssessment,\n  triggerInteraction,\n}: Props) {\n  const handlePageChange = (newPage: number) => {\n    setPage(newPage);\n    fetchVocabs(newPage, filters, sortConfig);\n  };\n\n  const getSortIcon = (colKey: string) =>\n    sortConfig.key !== colKey ? (\n      <span className=\"text-gray-300 ml-1 opacity-50\">â†•</span>\n    ) : sortConfig.direction === \"asc\" ? (\n      <span className=\"ml-1 text-indigo-600\">â–²</span>\n    ) : (\n      <span className=\"ml-1 text-indigo-600\">â–¼</span>\n    );\n\n  const columnConfig: Record<\n    string,\n    {\n      label: React.ReactNode;\n      width: string;\n      renderCell: (v: VocabItem) => React.ReactNode;\n      renderFilter?: () => React.ReactNode;\n      sortKey?: string;\n    }\n  > = {\n    star: {\n      label: \"â˜…\",\n      width: \"w-12\",\n      sortKey: \"isStarred\",\n      renderCell: (v) => (\n        <button\n          onClick={(e) => handleToggleStar(v.id, v.isStarred, e)}\n          className=\"hover:bg-gray-100 rounded-full p-1\"\n        >\n          <StarIcon\n            filled={v.isStarred}\n            className={\n              v.isStarred ? \"text-yellow-400 w-5 h-5\" : \"text-gray-300 w-5 h-5\"\n            }\n          />\n        </button>\n      ),\n    },\n    updatedAt: {\n      label: \"Last Active\",\n      width: \"w-32\",\n      sortKey: \"updatedAt\",\n      renderCell: (v) => (\n        <div className=\"font-mono text-xs text-gray-500\">\n          {new Date(v.updatedAt).toLocaleDateString()} <br />\n          <span className=\"text-gray-400\">\n            {new Date(v.updatedAt).toLocaleTimeString()}\n          </span>\n        </div>\n      ),\n    },\n    topic: {\n      label: \"Topic\",\n      width: \"w-32\",\n      sortKey: \"topic\",\n      renderCell: (v) =>\n        v.topic && (\n          <span className=\"bg-gray-100 px-2 py-0.5 rounded text-xs\">\n            {v.topic}\n          </span>\n        ),\n      renderFilter: () => (\n        <input\n          className=\"w-full border rounded px-2 py-1 text-xs outline-none focus:border-indigo-500\"\n          placeholder=\"Filter...\"\n          value={filters.topic}\n          onChange={(e) => handleFilterChange(\"topic\", e.target.value)}\n        />\n      ),\n    },\n    word: {\n      label: \"Word\",\n      width: \"w-48\",\n      sortKey: \"word\",\n      renderCell: (v) => (\n        <div className=\"flex items-center justify-between gap-2 font-bold text-indigo-700\">\n          <span>{v.word}</span>\n          <div className=\"flex items-center gap-1\">\n            <button\n              onClick={(e) => {\n                handleOpenAssessment(v, e);\n                triggerInteraction(v);\n              }}\n              className=\"text-gray-400 hover:text-green-600 p-1 rounded-full hover:bg-green-50\"\n              title=\"Practice Pronunciation\"\n            >\n              <MicrophoneIcon className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={(e) => {\n                handleSpeak(v.word, e);\n                triggerInteraction(v);\n              }}\n              className=\"text-gray-400 hover:text-indigo-600 p-1 rounded-full hover:bg-indigo-50\"\n            >\n              <SpeakerIcon className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      ),\n      renderFilter: () => (\n        <input\n          className=\"w-full border rounded px-2 py-1 text-xs outline-none focus:border-indigo-500\"\n          placeholder=\"Filter...\"\n          value={filters.word}\n          onChange={(e) => handleFilterChange(\"word\", e.target.value)}\n        />\n      ),\n    },\n    pronunciation: {\n      label: \"Pronun.\",\n      width: \"w-32\",\n      renderCell: (v) => (\n        <span className=\"font-mono text-gray-500 text-xs\">\n          {v.pronunciation}\n        </span>\n      ),\n    },\n    meaning: {\n      label: \"Meaning\",\n      width: \"w-48\",\n      renderCell: (v) => (\n        <span\n          className=\"text-gray-800 text-sm line-clamp-2\"\n          title={v.meaning || \"\"}\n        >\n          {v.meaning}\n        </span>\n      ),\n      renderFilter: () => (\n        <input\n          className=\"w-full border rounded px-2 py-1 text-xs outline-none focus:border-indigo-500\"\n          placeholder=\"Meaning...\"\n          value={filters.meaning}\n          onChange={(e) => handleFilterChange(\"meaning\", e.target.value)}\n        />\n      ),\n    },\n    example: {\n      label: \"Example\",\n      width: \"w-64\",\n      renderCell: (v) => (\n        <span\n          className=\"italic text-gray-500 text-xs line-clamp-2\"\n          title={v.example || \"\"}\n        >\n          {v.example}\n        </span>\n      ),\n    },\n    relatedWords: {\n      label: \"Related\",\n      width: \"w-40\",\n      renderCell: (v) => (\n        <span className=\"text-gray-500 text-xs\">{v.relatedWords}</span>\n      ),\n    },\n    occurrence: {\n      label: \"Count\",\n      width: \"w-20\",\n      sortKey: \"occurrence\",\n      renderCell: (v) => (\n        <div className=\"text-center font-semibold text-gray-500\">\n          {v.occurrence}\n        </div>\n      ),\n    },\n    score: {\n      label: \"Score\",\n      width: \"w-20\",\n      renderCell: (v) => {\n        const scores = v.pronunciationScores || [];\n        if (scores.length === 0)\n          return <span className=\"text-gray-300 text-xs\">-</span>;\n        const recentScores = scores.slice(-3);\n        const avg = Math.round(\n          recentScores.reduce((a, b) => a + b, 0) / recentScores.length\n        );\n        let colorClass = \"bg-red-100 text-red-700\";\n        if (avg >= 80) colorClass = \"bg-green-100 text-green-700\";\n        else if (avg >= 60) colorClass = \"bg-yellow-100 text-yellow-700\";\n        return (\n          <div className=\"flex flex-col items-center\">\n            <span\n              className={`text-xs font-bold px-2 py-0.5 rounded ${colorClass}`}\n            >\n              {avg}\n            </span>\n          </div>\n        );\n      },\n    },\n    actions: {\n      label: \"Action\",\n      width: \"w-20\",\n      renderCell: (v) => (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            handleRowClick(v);\n          }}\n          className=\"text-indigo-600 text-xs border border-indigo-200 px-2 py-1 rounded hover:bg-indigo-50\"\n        >\n          Edit\n        </button>\n      ),\n    },\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col\">\n      <div className=\"overflow-x-auto pb-4\">\n        <table className=\"min-w-full divide-y divide-gray-200 table-fixed\">\n          <thead className=\"bg-gray-50 select-none\">\n            <tr>\n              {columnOrder.map((colId) => {\n                const config = columnConfig[colId];\n                if (!config) return null;\n                const isDragging = draggedCol === colId;\n                return (\n                  <th\n                    key={colId}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, colId)}\n                    onDragOver={(e) => handleDragOver(e, colId)}\n                    onDragEnd={handleDragEnd}\n                    onClick={() => config.sortKey && handleSort(config.sortKey)}\n                    className={`${\n                      config.width\n                    } px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase border-r border-gray-200 cursor-move hover:bg-gray-100 transition-all duration-200 ${\n                      isDragging\n                        ? \"opacity-50 bg-indigo-50 border-2 border-indigo-300 scale-95 shadow-inner\"\n                        : \"\"\n                    } ${\n                      colId === \"actions\"\n                        ? \"sticky right-0 bg-gray-50 shadow-l z-10\"\n                        : \"\"\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between pointer-events-none\">\n                      <span>{config.label}</span>\n                      {config.sortKey && getSortIcon(config.sortKey)}\n                    </div>\n                  </th>\n                );\n              })}\n            </tr>\n            <tr className=\"bg-white border-b border-gray-200\">\n              {columnOrder.map((colId) => {\n                const config = columnConfig[colId];\n                if (!config) return null;\n                return (\n                  <td\n                    key={colId}\n                    className={`p-2 border-r border-gray-100 ${\n                      colId === \"actions\"\n                        ? \"sticky right-0 bg-white z-10\"\n                        : \"\"\n                    }`}\n                  >\n                    {config.renderFilter ? config.renderFilter() : null}\n                  </td>\n                );\n              })}\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {loading ? (\n              <tr>\n                <td\n                  colSpan={columnOrder.length}\n                  className=\"text-center py-10 text-gray-500\"\n                >\n                  Loading data...\n                </td>\n              </tr>\n            ) : vocabs.length === 0 ? (\n              <tr>\n                <td\n                  colSpan={columnOrder.length}\n                  className=\"text-center py-10 text-gray-500\"\n                >\n                  No vocabulary found.\n                </td>\n              </tr>\n            ) : (\n              vocabs.map((vocab) => (\n                <tr\n                  key={vocab.id}\n                  className=\"hover:bg-indigo-50/50 group transition-colors cursor-pointer\"\n                  onClick={() => handleRowClick(vocab)}\n                >\n                  {columnOrder.map((colId) => {\n                    const config = columnConfig[colId];\n                    if (!config) return null;\n                    return (\n                      <td\n                        key={colId}\n                        className={`px-4 py-3 text-sm border-r border-gray-100 align-top whitespace-normal break-words ${\n                          colId === \"actions\"\n                            ? \"sticky right-0 bg-white group-hover:bg-indigo-50/50 shadow-l z-10\"\n                            : \"\"\n                        }`}\n                        onClick={\n                          colId === \"actions\" || colId === \"star\"\n                            ? (e) => e.stopPropagation()\n                            : undefined\n                        }\n                      >\n                        {config.renderCell(vocab)}\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"p-4 border-t border-gray-200 bg-gray-50 flex justify-between items-center sticky bottom-0 z-20\">\n        <button\n          disabled={page <= 1}\n          onClick={() => handlePageChange(page - 1)}\n          className=\"px-4 py-2 bg-white border rounded shadow-sm hover:bg-gray-100 disabled:opacity-50 text-sm font-medium\"\n        >\n          â† Previous\n        </button>\n        <span className=\"text-sm font-medium text-gray-600\">\n          Page <span className=\"text-indigo-600 font-bold\">{page}</span> of{\" \"}\n          {totalPages}\n        </span>\n        <button\n          disabled={page >= totalPages}\n          onClick={() => handlePageChange(page + 1)}\n          className=\"px-4 py-2 bg-white border rounded shadow-sm hover:bg-gray-100 disabled:opacity-50 text-sm font-medium\"\n        >\n          Next â†’\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["React","VocabItem","FilterState","SortState","StarIcon","MicrophoneIcon","SpeakerIcon","Props","vocabs","loading","page","totalPages","setPage","fetchVocabs","pageNum","filters","sort","handleFilterChange","key","value","handleSort","sortConfig","columnOrder","handleDragStart","e","DragEvent","col","handleDragOver","handleDragEnd","draggedCol","handleRowClick","item","handleToggleStar","id","status","MouseEvent","handleSpeak","text","handleOpenAssessment","triggerInteraction","vocab","VocabTable","t0","$","_c","$i","Symbol","for","t1","newPage","handlePageChange","t2","colKey","direction","getSortIcon","t3","v","isStarred","t4","t5","t6","t7","t8","t9","t10","topic","e_0","target","t11","v_2","word","e_1","e_2","t12","e_3","t13","meaning","e_4","t14","v_9","e_5","stopPropagation","columnConfig","star","label","width","sortKey","renderCell","updatedAt","_temp","_temp2","renderFilter","pronunciation","_temp3","_temp4","example","_temp5","relatedWords","_temp6","occurrence","_temp7","score","_temp8","actions","map","colId","config","isDragging","e_6","e_7","VocabTable[columnOrder.map() > <th>.onClick]","colId_0","config_0","length","VocabTable[vocabs.map() > <tr>.onClick]","colId_1","config_1","_temp9","undefined","VocabTable[<button>.onClick]","t15","t16","t17","t18","t19","t20","t21","t22","e_8","v_8","scores","pronunciationScores","recentScores","slice","avg","Math","round","reduce","_VocabTableAnonymousRecentScoresReduce","colorClass","a","b","v_7","v_6","v_5","v_4","v_3","v_1","v_0","Date","toLocaleDateString","toLocaleTimeString"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1848, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/components/vocabulary/VocabFormModal.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport { MicrophoneIcon, SpeakerIcon } from \"@/components/Icons\";\nimport { VocabFormData } from \"@/hooks/vocabulary/useVocabModals\";\nimport { VocabItem } from \"@/hooks/vocabulary/useVocabData\";\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n  initialData: VocabFormData;\n  setInitialData: (data: VocabFormData) => void;\n  isEditMode: boolean;\n  onSave: () => void;\n  onDelete: (() => void) | undefined;\n  isAutoFilling: boolean;\n  fetchAutoFillData: (word: string) => Promise<Partial<VocabFormData> | null>;\n  handleOpenAssessment: (item: VocabFormData, e?: React.MouseEvent) => void;\n  handleSpeak: (text: string, e?: React.MouseEvent) => void;\n  selectedVocab: VocabItem | null;\n}\n\nexport default function VocabFormModal({\n  isOpen,\n  onClose,\n  initialData: formData,\n  setInitialData: setFormData,\n  isEditMode,\n  onSave,\n  onDelete,\n  isAutoFilling,\n  fetchAutoFillData,\n  handleOpenAssessment,\n  handleSpeak,\n  selectedVocab,\n}: Props) {\n  if (!isOpen) return null;\n\n  const handleAutoFill = async () => {\n    if (!isEditMode) {\n      const autoData = await fetchAutoFillData(formData.word);\n      if (autoData) {\n        setFormData({ ...formData, ...autoData });\n      }\n    }\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/60 z-[150] flex items-center justify-center p-4 backdrop-blur-sm\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"bg-indigo-600 p-6 text-white flex justify-between items-start shrink-0\">\n          <div className=\"w-full\">\n            <div className=\"text-xs uppercase tracking-wider opacity-80 mb-2\">\n              {isEditMode ? \"Editing Vocabulary\" : \"Create New Vocabulary\"}\n            </div>\n            <div className=\"flex items-center gap-3 w-full\">\n              <input\n                value={formData.word || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, word: e.target.value })\n                }\n                onBlur={handleAutoFill}\n                className=\"bg-transparent text-4xl font-bold text-white placeholder-white/50 outline-none w-full border-b border-white/20 pb-1 focus:border-white transition-colors\"\n                placeholder=\"Word...\"\n                autoFocus={!isEditMode}\n              />\n\n              {isAutoFilling && (\n                <div className=\"text-xs text-indigo-200 animate-pulse ml-2 whitespace-nowrap\">\n                  âœ¨ Auto-filling...\n                </div>\n              )}\n\n              {formData.word && (\n                <>\n                  <button\n                    onClick={(e) => handleOpenAssessment(formData, e)}\n                    className=\"p-2 bg-white/20 rounded-full hover:bg-green-500 text-white transition-colors\"\n                  >\n                    <MicrophoneIcon className=\"w-6 h-6\" />\n                  </button>\n                  <button\n                    onClick={(e) => handleSpeak(formData.word, e)}\n                    className=\"p-2 bg-white/20 rounded-full hover:bg-white/30 text-white\"\n                  >\n                    <SpeakerIcon className=\"w-6 h-6\" />\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-white/70 hover:text-white text-2xl font-bold ml-4\"\n          >\n            âœ•\n          </button>\n        </div>\n        <div className=\"p-6 space-y-5 overflow-y-auto relative\">\n          {isAutoFilling && (\n            <div className=\"absolute inset-0 bg-white/50 z-10 flex items-center justify-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n            </div>\n          )}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n                Pronunciation\n              </label>\n              <input\n                value={formData.pronunciation || \"\"}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    pronunciation: e.target.value,\n                  })\n                }\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm\"\n                placeholder=\"/.../\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n                Part Of Speech\n              </label>\n              <select\n                value={formData.partOfSpeech || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, partOfSpeech: e.target.value })\n                }\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none bg-white\"\n              >\n                <option value=\"\">-- Select --</option>\n                <option value=\"noun\">Noun</option>\n                <option value=\"verb\">Verb</option>\n                <option value=\"adjective\">Adjective</option>\n                <option value=\"adverb\">Adverb</option>\n                <option value=\"phrase\">Phrase</option>\n              </select>\n            </div>\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n              Meaning\n            </label>\n            <textarea\n              value={formData.meaning || \"\"}\n              onChange={(e) =>\n                setFormData({ ...formData, meaning: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none min-h-[80px] text-lg font-medium text-gray-800\"\n              placeholder=\"NghÄ©a cá»§a tá»«...\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n              Example\n            </label>\n            <textarea\n              value={formData.example || \"\"}\n              onChange={(e) =>\n                setFormData({ ...formData, example: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none bg-gray-50 italic text-gray-600\"\n              placeholder=\"VÃ­ dá»¥...\"\n            />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n                Topic\n              </label>\n              <input\n                value={formData.topic || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, topic: e.target.value })\n                }\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none\"\n                placeholder=\"IT, Travel...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">\n                Related Words\n              </label>\n              <input\n                value={formData.relatedWords || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, relatedWords: e.target.value })\n                }\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none\"\n                placeholder=\"Synonyms...\"\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-gray-50 p-4 border-t border-gray-200 flex justify-between items-center shrink-0\">\n          {selectedVocab ? (\n            <div className=\"text-xs text-gray-400\">\n              Updated: {new Date(selectedVocab.updatedAt).toLocaleString()}\n            </div>\n          ) : (\n            <div></div>\n          )}\n          <div className=\"flex gap-3\">\n            {isEditMode && onDelete && (\n              <button\n                onClick={onDelete}\n                className=\"text-red-600 hover:bg-red-50 px-4 py-2 rounded-lg text-sm font-medium transition-colors border border-transparent hover:border-red-200\"\n              >\n                Delete\n              </button>\n            )}\n            <button\n              onClick={onClose}\n              className=\"text-gray-600 hover:bg-gray-200 px-5 py-2 rounded-lg text-sm font-medium transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={onSave}\n              className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-md transform active:scale-95 transition-all\"\n            >\n              {isEditMode ? \"Save Changes\" : \"Create Word\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["React","MicrophoneIcon","SpeakerIcon","VocabFormData","VocabItem","Props","isOpen","onClose","initialData","setInitialData","data","isEditMode","onSave","onDelete","isAutoFilling","fetchAutoFillData","word","Promise","Partial","handleOpenAssessment","item","e","MouseEvent","handleSpeak","text","selectedVocab","VocabFormModal","t0","$","_c","$i","Symbol","for","formData","setFormData","t1","VocabFormModal[handleAutoFill]","autoData","handleAutoFill","t2","t3","t4","t5","e_0","target","value","t6","t7","t8","t9","e_1","e_2","t10","t11","t12","t13","t14","t15","t16","pronunciation","t17","e_3","t18","t19","t20","partOfSpeech","t21","e_4","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","meaning","t32","e_5","t33","t34","t35","example","t36","e_6","t37","t38","t39","topic","t40","e_7","t41","t42","t43","relatedWords","t44","e_8","t45","t46","t47","t48","Date","updatedAt","toLocaleString","t49","t50","t51","t52","t53","t54","t55","_VocabFormModalDivOnClick","t56","stopPropagation"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2748, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/components/vocabulary/AssessmentModal.tsx"],"sourcesContent":["import React from \"react\";\nimport { MicrophoneIcon, SpeakerIcon } from \"@/components/Icons\";\nimport { AssessmentResult } from \"@/hooks/vocabulary/usePronunciationAssessment\";\nimport { VocabItem } from \"@/hooks/vocabulary/useVocabData\";\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n  vocabItem: VocabItem | null;\n  isRecording: boolean;\n  assessmentResult: AssessmentResult | null;\n  assessmentError: string;\n  isProcessingAudio: boolean;\n  userAudioUrl: string | null;\n  startRecording: () => void;\n  stopRecording: () => void;\n  handleSpeak: (text: string, e?: React.MouseEvent) => void;\n}\n\nexport default function AssessmentModal({\n  isOpen,\n  onClose,\n  vocabItem,\n  isRecording,\n  assessmentResult,\n  assessmentError,\n  isProcessingAudio,\n  userAudioUrl,\n  startRecording,\n  stopRecording,\n  handleSpeak,\n}: Props) {\n  if (!isOpen || !vocabItem) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/80 z-[2147483649] flex items-center justify-center p-4 backdrop-blur-sm\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden flex flex-col items-center p-8 relative animate-in fade-in zoom-in duration-200\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\"\n        >\n          âœ•\n        </button>\n        <h3 className=\"text-3xl font-bold text-gray-800 mb-1\">\n          {vocabItem.word}\n        </h3>\n        <div className=\"flex flex-col items-center gap-1 mb-6\">\n          {vocabItem.pronunciation && (\n            <span className=\"font-mono text-gray-500 text-lg\">\n              /{vocabItem.pronunciation}/\n            </span>\n          )}\n          {vocabItem.meaning && (\n            <span className=\"text-gray-600 text-center font-medium px-4 line-clamp-2\">\n              {vocabItem.meaning}\n            </span>\n          )}\n        </div>\n        {assessmentResult ? (\n          <div\n            className=\"relative w-32 h-32 mb-6 flex items-center justify-center rounded-full border-8 transition-all duration-500 ease-out\"\n            style={{\n              borderColor:\n                assessmentResult.AccuracyScore >= 80\n                  ? \"#4caf50\"\n                  : assessmentResult.AccuracyScore >= 60\n                  ? \"#ffeb3b\"\n                  : \"#ff5252\",\n            }}\n          >\n            <span\n              className=\"text-4xl font-bold\"\n              style={{\n                color:\n                  assessmentResult.AccuracyScore >= 80\n                    ? \"#4caf50\"\n                    : assessmentResult.AccuracyScore >= 60\n                    ? \"#fbc02d\"\n                    : \"#ff5252\",\n              }}\n            >\n              {Math.round(assessmentResult.AccuracyScore)}\n            </span>\n          </div>\n        ) : (\n          <div className=\"w-32 h-32 mb-6 rounded-full border-4 border-gray-100 flex items-center justify-center bg-gray-50\">\n            <span className=\"text-4xl text-gray-300\">?</span>\n          </div>\n        )}\n        <div className=\"mb-6 flex gap-6 items-center\">\n          <button\n            onClick={(e) => handleSpeak(vocabItem.word, e)}\n            className=\"w-12 h-12 rounded-full bg-gray-100 hover:bg-gray-200 text-indigo-600 flex items-center justify-center transition-transform hover:scale-105 shadow-sm\"\n            title=\"Nghe giá»ng chuáº©n\"\n          >\n            <SpeakerIcon className=\"w-6 h-6\" />\n          </button>\n          <button\n            onClick={isRecording ? stopRecording : startRecording}\n            className={`w-16 h-16 rounded-full flex items-center justify-center shadow-lg transition-all transform hover:scale-105 ${\n              isRecording\n                ? \"bg-red-500 animate-pulse ring-4 ring-red-200\"\n                : \"bg-indigo-600 hover:bg-indigo-700 ring-4 ring-indigo-100\"\n            }`}\n          >\n            {isRecording ? (\n              <div className=\"w-6 h-6 bg-white rounded-sm\" />\n            ) : (\n              <MicrophoneIcon className=\"w-8 h-8 text-white\" />\n            )}\n          </button>\n          <button\n            disabled={!userAudioUrl}\n            onClick={() => {\n              const audio = new Audio(userAudioUrl!);\n              audio.play();\n            }}\n            className={`w-12 h-12 rounded-full flex items-center justify-center transition-transform hover:scale-105 shadow-sm ${\n              userAudioUrl\n                ? \"bg-green-100 hover:bg-green-200 text-green-700 cursor-pointer\"\n                : \"bg-gray-100 text-gray-300 cursor-not-allowed\"\n            }`}\n            title=\"Nghe láº¡i giá»ng báº¡n\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"w-5 h-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\"\n              />\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n          </button>\n        </div>\n        {isProcessingAudio && (\n          <p className=\"text-indigo-500 font-medium animate-pulse\">\n            Analyzing...\n          </p>\n        )}\n        {assessmentError && (\n          <p className=\"text-red-500 text-sm text-center bg-red-50 p-2 rounded\">\n            {assessmentError}\n          </p>\n        )}\n        {assessmentResult && (\n          <div className=\"w-full bg-gray-50 rounded-xl p-4 mt-2 border border-gray-100\">\n            <div className=\"flex flex-wrap justify-center gap-x-4 gap-y-2\">\n              {assessmentResult.Words.map((word, idx) => (\n                <div key={idx} className=\"flex flex-col items-center\">\n                  <span\n                    className={`text-lg font-bold ${\n                      word.AccuracyScore >= 80\n                        ? \"text-green-700\"\n                        : word.AccuracyScore >= 60\n                        ? \"text-yellow-600\"\n                        : \"text-red-600\"\n                    }`}\n                  >\n                    {word.Word}\n                  </span>\n                  <div className=\"flex gap-0.5 mt-1\">\n                    {word.Phonemes?.map((p, pIdx) => (\n                      <span\n                        key={pIdx}\n                        className={`text-xs px-1 rounded min-w-[20px] text-center ${\n                          p.AccuracyScore >= 80\n                            ? \"bg-green-100 text-green-800\"\n                            : p.AccuracyScore >= 60\n                            ? \"bg-yellow-100 text-yellow-800\"\n                            : \"bg-red-100 text-red-800\"\n                        }`}\n                        title={`/${p.Phoneme}/: ${p.AccuracyScore}`}\n                      >\n                        {p.Phoneme}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["React","MicrophoneIcon","SpeakerIcon","AssessmentResult","VocabItem","Props","isOpen","onClose","vocabItem","isRecording","assessmentResult","assessmentError","isProcessingAudio","userAudioUrl","startRecording","stopRecording","handleSpeak","text","e","MouseEvent","AssessmentModal","t0","$","_c","$i","Symbol","for","t1","t2","word","t3","pronunciation","t4","meaning","t5","t6","borderColor","AccuracyScore","color","Math","round","t7","e_0","t8","t9","t10","t11","t12","t13","t14","t15","AssessmentModal[<button>.onClick]","audio","Audio","play","t16","t17","t18","t19","t20","t21","t22","Words","map","_AssessmentModalAssessmentResultWordsMap","t23","_AssessmentModalDivOnClick","t24","idx","Word","Phonemes","_AssessmentModalAssessmentResultWordsMapAnonymous","p","pIdx","Phoneme","stopPropagation"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3226, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/components/vocabulary/QuickSearchModal.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { VocabItem } from \"@/hooks/vocabulary/useVocabData\";\r\n\r\ninterface Props {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  searchText: string;\r\n  onSearchChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  results: VocabItem[];\r\n  isSearching: boolean;\r\n  \r\n  // CÃ¡c Actions\r\n  onSelect: (item: VocabItem) => void;\r\n  onCreate: () => void;\r\n  hasExactMatch: boolean;\r\n  searchInputRef: React.RefObject<HTMLInputElement>;\r\n  handleSpeak: (text: string, e?: React.MouseEvent) => void;\r\n  handleOpenAssessment: (item: VocabItem, e?: React.MouseEvent) => void;\r\n  triggerInteraction: (item: VocabItem) => void;\r\n}\r\n\r\nexport default function QuickSearchModal({\r\n  isOpen,\r\n  onClose,\r\n  searchText,\r\n  onSearchChange,\r\n  results,\r\n  isSearching,\r\n  onSelect,\r\n  onCreate,\r\n  hasExactMatch,\r\n  searchInputRef,\r\n  handleSpeak,\r\n  handleOpenAssessment,\r\n  triggerInteraction\r\n}: Props) {\r\n  const [translation, setTranslation] = useState<string>(\"\");\r\n  const [pronunciation, setPronunciation] = useState<string>(\"\");\r\n  const [partOfSpeech, setPartOfSpeech] = useState<string>(\"\");\r\n  const [isTranslating, setIsTranslating] = useState(false);\r\n\r\n  // Auto translate when search text changes and no exact match\r\n  useEffect(() => {\r\n    if (isOpen && searchInputRef.current) {\r\n      setTimeout(() => searchInputRef.current?.focus(), 100);\r\n    }\r\n  }, [isOpen, searchInputRef]);\r\n\r\n  useEffect(() => {\r\n    const fetchTranslation = async () => {\r\n      // Chá»‰ reset khi cÃ³ exact match, khÃ´ng phá»¥ thuá»™c vÃ o results.length\r\n      if (!searchText || hasExactMatch) {\r\n        setTranslation(\"\");\r\n        setPronunciation(\"\");\r\n        setPartOfSpeech(\"\");\r\n        return;\r\n      }\r\n\r\n      setIsTranslating(true);\r\n      try {\r\n        // Fetch cáº£ dictionary vÃ  translation nhÆ° code autofill hiá»‡n táº¡i\r\n        const dictPromise = axios\r\n          .get(`https://api.dictionaryapi.dev/api/v2/entries/en/${searchText}`)\r\n          .catch(() => null);\r\n\r\n        const translatePromise = axios\r\n          .get(\r\n            `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=vi&dt=t&q=${encodeURIComponent(\r\n              searchText\r\n            )}`\r\n          )\r\n          .catch(() => null);\r\n\r\n        const [dictRes, transRes] = await Promise.all([\r\n          dictPromise,\r\n          translatePromise,\r\n        ]);\r\n\r\n        // Xá»­ lÃ½ dictionary data\r\n        if (dictRes && dictRes.data && dictRes.data[0]) {\r\n          const entry = dictRes.data[0];\r\n          \r\n          // Pronunciation\r\n          if (entry.phonetic) {\r\n            setPronunciation(entry.phonetic);\r\n          } else if (entry.phonetics && entry.phonetics.length > 0) {\r\n            const p = entry.phonetics.find((x: any) => x.text && x.audio);\r\n            setPronunciation(p ? p.text : entry.phonetics[0].text || \"\");\r\n          }\r\n          \r\n          // Part of Speech\r\n          if (entry.meanings && entry.meanings.length > 0) {\r\n            setPartOfSpeech(entry.meanings[0].partOfSpeech || \"\");\r\n          }\r\n        }\r\n\r\n        // Xá»­ lÃ½ translation\r\n        if (transRes && transRes.data && transRes.data[0]) {\r\n          const translatedText = transRes.data[0]\r\n            .map((item: any) => item[0])\r\n            .join(\"\");\r\n          setTranslation(translatedText);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Translation error:\", error);\r\n        setTranslation(\"\");\r\n        setPronunciation(\"\");\r\n        setPartOfSpeech(\"\");\r\n      } finally {\r\n        setIsTranslating(false);\r\n      }\r\n    };\r\n\r\n    const debounceTimer = setTimeout(() => {\r\n      fetchTranslation();\r\n    }, 500);\r\n\r\n    return () => clearTimeout(debounceTimer);\r\n  }, [searchText, hasExactMatch]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 z-[100] flex items-start justify-center pt-20\"\r\n      onClick={onClose}\r\n      style={{ backgroundColor: 'transparent' }}\r\n    >\r\n      <div\r\n        className=\"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col mx-4 border border-gray-100\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"p-4 border-b border-gray-100 flex items-center gap-3\">\r\n          <span className=\"text-xl\">ðŸ”</span>\r\n          <input\r\n            ref={searchInputRef}\r\n            type=\"text\"\r\n            value={searchText}\r\n            onChange={onSearchChange}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\" && results.length === 0 && !hasExactMatch) {\r\n                onCreate();\r\n              }\r\n            }}\r\n            placeholder=\"Type to search or create...\"\r\n            className=\"flex-1 text-xl font-light outline-none bg-transparent h-10\"\r\n          />\r\n          <div className=\"text-xs text-gray-400 border border-gray-200 px-2 py-1 rounded\">\r\n            ESC to close\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-50 max-h-[60vh] overflow-y-auto\">\r\n          {isSearching ? (\r\n            <div className=\"p-8 text-center text-gray-400\">Searching...</div>\r\n          ) : (\r\n            <>\r\n              {/* Google Translate Preview Section - Show when no exact match */}\r\n              {searchText && !hasExactMatch && (\r\n                <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100\">\r\n                  <div className=\"p-4 space-y-3\">\r\n                    {/* Word with pronunciation buttons */}\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                      <span className=\"text-2xl font-bold text-gray-800\">\r\n                        {searchText}\r\n                      </span>\r\n                      \r\n                      {/* Pronunciation */}\r\n                      {pronunciation && (\r\n                        <span className=\"text-sm text-gray-600 font-mono bg-white px-2 py-1 rounded border border-gray-200\">\r\n                          {pronunciation}\r\n                        </span>\r\n                      )}\r\n                      \r\n                      {/* Part of Speech */}\r\n                      {partOfSpeech && (\r\n                        <span className=\"text-[10px] uppercase font-bold text-indigo-600 bg-indigo-100 border border-indigo-200 px-2 py-1 rounded\">\r\n                          {partOfSpeech}\r\n                        </span>\r\n                      )}\r\n                      \r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleSpeak(searchText, e);\r\n                        }}\r\n                        className=\"p-2 hover:bg-blue-100 rounded-full transition-colors\"\r\n                        title=\"Play pronunciation\"\r\n                      >\r\n                        ðŸ”Š\r\n                      </button>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleOpenAssessment({ \r\n                            id: 'temp', \r\n                            word: searchText,\r\n                            // userId: '',\r\n                            createdAt: new Date().toISOString(),\r\n                            updatedAt: new Date().toISOString(),\r\n                            occurrence: 0,\r\n                            isStarred: false,\r\n                            pronunciationScores: [],\r\n                          }, e);\r\n                        }}\r\n                        className=\"p-2 hover:bg-green-100 rounded-full transition-colors\"\r\n                        title=\"Test pronunciation\"\r\n                      >\r\n                        ðŸŽ¤\r\n                      </button>\r\n                    </div>\r\n\r\n                    {/* Translation */}\r\n                    {isTranslating ? (\r\n                      <div className=\"text-sm text-gray-500 italic animate-pulse\">\r\n                        Loading...\r\n                      </div>\r\n                    ) : translation ? (\r\n                      <div className=\"bg-white rounded-lg p-3 border border-blue-200\">\r\n                        <div className=\"text-xs text-gray-500 mb-1\">\r\n                          ðŸŒ Google Translate\r\n                        </div>\r\n                        <div className=\"text-base text-gray-800 font-medium\">\r\n                          {translation}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create New Button */}\r\n              {searchText && !hasExactMatch && (\r\n                <div\r\n                  className=\"p-4 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center group cursor-pointer hover:bg-indigo-100 transition-colors\"\r\n                  onClick={onCreate}\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-full bg-indigo-200 text-indigo-700 flex items-center justify-center font-bold text-xl\">\r\n                      +\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-bold text-indigo-800\">\r\n                        Create \"{searchText}\"\r\n                      </div>\r\n                      <div className=\"text-xs text-indigo-500\">\r\n                        Auto-fill meaning & pronunciation\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"text-sm font-semibold text-indigo-600 bg-white px-3 py-1 rounded-full shadow-sm\">\r\n                    Enter â†µ\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Results List */}\r\n              {results.length > 0 ? (\r\n                <ul className=\"divide-y divide-gray-100\">\r\n                  {results.map((item) => (\r\n                    <li\r\n                      key={item.id}\r\n                      onClick={() => {\r\n                        triggerInteraction(item);\r\n                        onSelect(item);\r\n                      }}\r\n                      className=\"p-3 hover:bg-indigo-50 cursor-pointer transition-colors group\"\r\n                    >\r\n                      <div className=\"flex justify-between items-start gap-3\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className=\"font-bold text-lg text-indigo-700\">\r\n                              {item.word}\r\n                            </span>\r\n                            \r\n                            {/* Actions nhá» trong list */}\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleOpenAssessment(item, e);\r\n                              }}\r\n                              className=\"text-gray-400 hover:text-green-600 p-1 rounded-full hover:bg-green-100\"\r\n                            >\r\n                              ðŸŽ¤\r\n                            </button>\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleSpeak(item.word, e);\r\n                              }}\r\n                              className=\"text-gray-400 hover:text-indigo-600 p-1 rounded-full hover:bg-indigo-100\"\r\n                            >\r\n                              ðŸ”Š\r\n                            </button>\r\n                            \r\n                            {item.partOfSpeech && (\r\n                              <span className=\"text-[10px] uppercase font-bold text-indigo-500 bg-indigo-50 border border-indigo-100 px-1.5 py-0.5 rounded\">\r\n                                {item.partOfSpeech}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-800 line-clamp-2\">\r\n                            {item.meaning || <span className=\"italic text-gray-400\">No meaning</span>}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Meta info bÃªn pháº£i */}\r\n                        <div className=\"text-right shrink-0 flex flex-col items-end gap-1\">\r\n                          {item.topic && (\r\n                            <span className=\"text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full\">\r\n                              {item.topic}\r\n                            </span>\r\n                          )}\r\n                          {item.isStarred && <span className=\"text-yellow-400 text-xs\">â˜…</span>}\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                !hasExactMatch &&\r\n                searchText && !translation && !isTranslating && (\r\n                  <div className=\"p-4 text-center text-gray-400 text-sm\">\r\n                    No existing words match.\r\n                  </div>\r\n                )\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useEffect","useState","axios","VocabItem","Props","isOpen","onClose","searchText","onSearchChange","e","React","ChangeEvent","HTMLInputElement","results","isSearching","onSelect","item","onCreate","hasExactMatch","searchInputRef","RefObject","handleSpeak","text","MouseEvent","handleOpenAssessment","triggerInteraction","QuickSearchModal","translation","setTranslation","pronunciation","setPronunciation","partOfSpeech","setPartOfSpeech","isTranslating","setIsTranslating","current","setTimeout","focus","fetchTranslation","dictPromise","get","catch","translatePromise","encodeURIComponent","dictRes","transRes","Promise","all","data","entry","phonetic","phonetics","length","p","find","x","audio","meanings","translatedText","map","join","error","console","debounceTimer","clearTimeout","backgroundColor","stopPropagation","key","id","word","createdAt","Date","toISOString","updatedAt","occurrence","isStarred","pronunciationScores","meaning","topic"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3732, "column": 0}, "map": {"version":3,"sources":["C:/code/c2025-12-09-worddd/apps/frontend/app/vocabulary/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect, Suspense } from 'react';\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\n\r\nimport useVocabData from \"@/hooks/vocabulary/useVocabData\";\r\nimport useVocabModals from \"@/hooks/vocabulary/useVocabModals\";\r\n\r\nimport usePronunciationAssessment from \"@/hooks/vocabulary/usePronunciationAssessment\";\r\nimport useQuickSearch from \"@/hooks/vocabulary/useQuickSearch\";\r\n\r\nimport VocabTable from \"@/components/vocabulary/VocabTable\";\r\nimport VocabFormModal from \"@/components/vocabulary/VocabFormModal\";\r\nimport AssessmentModal from \"@/components/vocabulary/AssessmentModal\";\r\nimport QuickSearchModal from \"@/components/vocabulary/QuickSearchModal\";\r\nimport { StarIcon } from \"@/components/Icons\";\r\n\r\nfunction VocabularyContent() {\r\n  const { token, isLoading } = useAuth();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  \r\n  // Check if in iframe mode\r\n  const isIframeMode = searchParams.get(\"iframeMode\") === \"true\";\r\n\r\n  // QUAN TRá»ŒNG: Gá»i Táº¤T Cáº¢ hooks TRÆ¯á»šC khi cÃ³ báº¥t ká»³ return nÃ o\r\n  const {\r\n    vocabs,\r\n    loading,\r\n    page,\r\n    setPage,\r\n    totalPages,\r\n    showStarredOnly,\r\n    setShowStarredOnly,\r\n    filters,\r\n    sortConfig,\r\n    columnOrder,\r\n    draggedCol,\r\n    fetchVocabs,\r\n    handleFilterChange,\r\n    handleSort,\r\n    handleToggleStar,\r\n    triggerInteraction,\r\n    handleDragStart,\r\n    handleDragOver,\r\n    handleDragEnd,\r\n  } = useVocabData(token);\r\n\r\n  const {\r\n    selectedVocab,\r\n    isModalOpen,\r\n    setIsModalOpen,\r\n    isAutoFilling,\r\n    formData,\r\n    setFormData,\r\n    fileInputRef,\r\n    isUploading,\r\n    handleRowClick,\r\n    handleOpenCreateModal,\r\n    handleSave,\r\n    handleDelete,\r\n    handleFileChange,\r\n    fetchAutoFillData,\r\n  } = useVocabModals(token, () => fetchVocabs(page));\r\n\r\n  const {\r\n    isAssessmentModalOpen,\r\n    setIsAssessmentModalOpen,\r\n    recordingVocabItem,\r\n    isRecording,\r\n    assessmentResult,\r\n    assessmentError,\r\n    isProcessingAudio,\r\n    userAudioUrl,\r\n    startRecording,\r\n    stopRecording,\r\n    handleOpenAssessment,\r\n    handleSpeak,\r\n  } = usePronunciationAssessment(token, () => fetchVocabs(page), page);\r\n\r\n  const {\r\n    showSearch,\r\n    setShowSearch,\r\n    quickSearchText,\r\n    quickSearchResults,\r\n    isSearching,\r\n    searchInputRef,\r\n    hasExactMatch,\r\n    handleQuickSearchChange,\r\n  } = useQuickSearch(token, handleOpenCreateModal);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.code === \"Escape\") {\r\n        // Náº¿u Ä‘ang trong iframe mode, gá»­i message Ä‘á»ƒ Ä‘Ã³ng\r\n        if (isIframeMode) {\r\n          window.parent.postMessage(\"CLOSE_EXTENSION_IFRAME\", \"*\");\r\n        }\r\n        setShowSearch(false);\r\n        setIsModalOpen(false);\r\n        setIsAssessmentModalOpen(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [setIsAssessmentModalOpen, setIsModalOpen, setShowSearch, isIframeMode]);\r\n\r\n  // Redirect to login if not authenticated (AFTER all hooks)\r\n  useEffect(() => {\r\n    if (!isLoading && !token) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, [token, isLoading, router]);\r\n\r\n  // Hiá»ƒn thá»‹ loading khi Ä‘ang check auth\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Náº¿u khÃ´ng cÃ³ token sau khi load xong, Ä‘á»«ng render gÃ¬ (Ä‘ang redirect)\r\n  if (!token) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${isIframeMode ? 'bg-transparent' : 'bg-gray-50'} p-6 text-black relative`}>\r\n      <AssessmentModal\r\n        isOpen={isAssessmentModalOpen}\r\n        onClose={() => setIsAssessmentModalOpen(false)}\r\n        vocabItem={recordingVocabItem}\r\n        isRecording={isRecording}\r\n        assessmentResult={assessmentResult}\r\n        assessmentError={assessmentError}\r\n        isProcessingAudio={isProcessingAudio}\r\n        userAudioUrl={userAudioUrl}\r\n        startRecording={startRecording}\r\n        stopRecording={stopRecording}\r\n        handleSpeak={handleSpeak}\r\n      />\r\n\r\n      <QuickSearchModal\r\n        isOpen={showSearch}\r\n        onClose={() => {\r\n          setShowSearch(false);\r\n          // Náº¿u Ä‘ang trong iframe mode vÃ  Ä‘Ã³ng search, thÃ¬ Ä‘Ã³ng cáº£ iframe\r\n          if (isIframeMode) {\r\n            window.parent.postMessage(\"CLOSE_EXTENSION_IFRAME\", \"*\");\r\n          }\r\n        }}\r\n        searchText={quickSearchText}\r\n        onSearchChange={handleQuickSearchChange}\r\n        results={quickSearchResults}\r\n        isSearching={isSearching}\r\n        onSelect={(vocab) => {\r\n          setShowSearch(false);\r\n          handleRowClick(vocab);\r\n        }}\r\n        onCreate={() => handleOpenCreateModal(quickSearchText)}\r\n        hasExactMatch={hasExactMatch}\r\n        searchInputRef={searchInputRef as React.RefObject<HTMLInputElement>}\r\n        handleSpeak={handleSpeak}\r\n        handleOpenAssessment={handleOpenAssessment}\r\n        triggerInteraction={triggerInteraction}\r\n      />\r\n\r\n      <VocabFormModal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        initialData={formData}\r\n        setInitialData={setFormData}\r\n        isEditMode={!!selectedVocab}\r\n        onSave={handleSave}\r\n        onDelete={() => selectedVocab && handleDelete(selectedVocab.id)}\r\n        isAutoFilling={isAutoFilling}\r\n        fetchAutoFillData={fetchAutoFillData}\r\n        handleOpenAssessment={handleOpenAssessment}\r\n        handleSpeak={handleSpeak}\r\n        selectedVocab={selectedVocab}\r\n      />\r\n\r\n      {/* CHáº Y TRONG IFRAME MODE: Chá»‰ hiá»‡n QuickSearchModal, áº©n háº¿t pháº§n cÃ²n láº¡i */}\r\n      {isIframeMode ? (\r\n        <div className=\"flex items-center justify-center h-screen\">\r\n          <div className=\"text-gray-400 text-sm\">\r\n            {/* Placeholder - QuickSearchModal sáº½ tá»± Ä‘á»™ng má»Ÿ */}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* PAGE HEADER - CHá»ˆ HIá»†N KHI KHÃ”NG PHáº¢I IFRAME MODE */}\r\n          <div className=\"flex flex-col md:flex-row justify-between items-center mb-6 gap-4\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-800\">My Vocabulary</h1>\r\n              <p className=\"text-gray-500 text-sm mt-1\">\r\n                Double-tap{\" \"}\r\n                <kbd className=\"bg-gray-200 px-1.5 py-0.5 rounded text-xs border border-gray-300 font-mono\">\r\n                  Space\r\n                </kbd>{\" \"}\r\n                to Quick Search / Create\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-2 items-center\">\r\n              <button\r\n                onClick={() => handleOpenCreateModal(\"\")}\r\n                className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg shadow flex items-center gap-2 font-medium\"\r\n              >\r\n                <span>+</span> New Word\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  const newValue = !showStarredOnly;\r\n                  setShowStarredOnly(newValue);\r\n                  fetchVocabs(1, filters, sortConfig, newValue);\r\n                }}\r\n                className={`px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors ${\r\n                  showStarredOnly\r\n                    ? \"bg-yellow-50 border-yellow-400 text-yellow-700\"\r\n                    : \"bg-white border-gray-300 text-gray-600\"\r\n                }`}\r\n              >\r\n                <StarIcon\r\n                  filled={showStarredOnly}\r\n                  className={showStarredOnly ? \"text-yellow-500\" : \"text-gray-400\"}\r\n                />\r\n                <span className=\"text-sm font-medium\">\r\n                  {showStarredOnly ? \"Starred\" : \"All\"}\r\n                </span>\r\n              </button>\r\n              <input\r\n                type=\"file\"\r\n                ref={fileInputRef}\r\n                onChange={handleFileChange}\r\n                accept=\".csv\"\r\n                className=\"hidden\"\r\n              />\r\n              <button\r\n                onClick={() => fileInputRef.current?.click()}\r\n                disabled={isUploading}\r\n                className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow flex items-center gap-2 text-sm font-medium\"\r\n              >\r\n                {isUploading ? \"...\" : \"ðŸ“‚ CSV\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <VocabTable\r\n            vocabs={vocabs}\r\n            loading={loading}\r\n            columnOrder={columnOrder}\r\n            draggedCol={draggedCol}\r\n            sortConfig={sortConfig}\r\n            filters={filters}\r\n            page={page}\r\n            totalPages={totalPages}\r\n            handleDragStart={handleDragStart}\r\n            handleDragOver={handleDragOver}\r\n            handleDragEnd={handleDragEnd}\r\n            handleSort={handleSort}\r\n            handleFilterChange={handleFilterChange}\r\n            handleRowClick={handleRowClick}\r\n            handleToggleStar={handleToggleStar}\r\n            handleOpenAssessment={handleOpenAssessment}\r\n            handleSpeak={handleSpeak}\r\n            triggerInteraction={triggerInteraction}\r\n            fetchVocabs={fetchVocabs}\r\n            setPage={setPage}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n// ... (Cuá»‘i file)\r\n\r\nexport default function VocabularyPage() {\r\n  return (\r\n    // Fallback lÃ  giao diá»‡n hiá»ƒn thá»‹ trong lÃºc chá» Ä‘á»c URL (thÆ°á»ng ráº¥t nhanh)\r\n    <Suspense fallback={<div className=\"p-4 text-center\">Loading vocabulary...</div>}>\r\n      <VocabularyContent />\r\n    </Suspense>\r\n  );\r\n}"],"names":["c","_c","React","useState","useRef","useEffect","Suspense","useAuth","useRouter","useSearchParams","useVocabData","useVocabModals","usePronunciationAssessment","useQuickSearch","VocabTable","VocabFormModal","AssessmentModal","QuickSearchModal","StarIcon","VocabularyContent","$","$i","Symbol","for","token","isLoading","router","searchParams","t0","get","isIframeMode","vocabs","loading","page","setPage","totalPages","showStarredOnly","setShowStarredOnly","filters","sortConfig","columnOrder","draggedCol","fetchVocabs","handleFilterChange","handleSort","handleToggleStar","triggerInteraction","handleDragStart","handleDragOver","handleDragEnd","t1","VocabularyContent[useVocabModals()]","selectedVocab","isModalOpen","setIsModalOpen","isAutoFilling","formData","setFormData","fileInputRef","isUploading","handleRowClick","handleOpenCreateModal","handleSave","handleDelete","handleFileChange","fetchAutoFillData","t2","VocabularyContent[usePronunciationAssessment()]","isAssessmentModalOpen","setIsAssessmentModalOpen","recordingVocabItem","isRecording","assessmentResult","assessmentError","isProcessingAudio","userAudioUrl","startRecording","stopRecording","handleOpenAssessment","handleSpeak","showSearch","setShowSearch","quickSearchText","quickSearchResults","isSearching","searchInputRef","hasExactMatch","handleQuickSearchChange","t3","t4","VocabularyContent[useEffect()]","handleKeyDown","e","code","window","parent","postMessage","addEventListener","removeEventListener","t5","t6","push","t7","t8","VocabularyContent[<AssessmentModal>.onClose]","t9","t10","VocabularyContent[<QuickSearchModal>.onClose]","t11","vocab","t12","VocabularyContent[<QuickSearchModal>.onCreate]","t13","RefObject","HTMLInputElement","t14","t15","VocabularyContent[<VocabFormModal>.onClose]","t16","t17","VocabularyContent[<VocabFormModal>.onDelete]","id","t18","t19","VocabularyContent[<button>.onClick]","newValue","current","click","t20","VocabularyPage"],"mappings":"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","ignoreList":[]}}]
}